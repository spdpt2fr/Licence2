        function createUserRow(user) {
            const row = document.createElement('tr');
            
            // Gestion flexible des noms de colonnes
            const name = user.nom || user.name || user.full_name || user.username || 'Non défini';
            const email = user.email || user.email_address || user.mail || 'Non défini';
            const role = user.role || user.user_role || user.type || 'user';
            const status = user.status || user.state || user.active ? 'active' : 'inactive';
            
            row.innerHTML = `
                <td>#${user.id}</td>
                <td>${escapeHtml(name)}</td>
                <td>${escapeHtml(email)}</td>
                <td><span class="role-badge role-${role}">${getRoleLabel(role)}</span></td>
                <td><span class="status-badge status-${status}">${getStatusLabel(status)}</span></td>
                <td>${formatDate(user.created_at)}</td>
                <td>${formatDate(user.last_login) || 'Jamais'}</td>
                <td>
                    <button class="btn-edit" onclick="editUser(${user.id})" title="Modifier">✏️</button>
                    <button class="btn-view" onclick="resetPassword(${user.id})" title="Reset mot de passe">🔑</button>
                    <button class="btn-delete" onclick="deleteUser(${user.id})" title="Supprimer">🗑️</button>
                </td>
            `;
            return row;
        }